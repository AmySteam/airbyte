"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[4961],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return m}});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),s=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),p=s(r),m=o,f=p["".concat(l,".").concat(m)]||p[m]||u[m]||i;return r?n.createElement(f,a(a({ref:t},d),{},{components:r})):n.createElement(f,a({ref:t},d))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var s=2;s<i;s++)a[s]=r[s];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},34579:function(e,t,r){r.r(t),r.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return u}});var n=r(87462),o=r(63366),i=(r(67294),r(3905)),a=["components"],c={},l="Airbyte Protocol Docker Interface",s={unversionedId:"understanding-airbyte/airbyte-protocol-docker",id:"understanding-airbyte/airbyte-protocol-docker",title:"Airbyte Protocol Docker Interface",description:"Summary",source:"@site/../docs/understanding-airbyte/airbyte-protocol-docker.md",sourceDirName:"understanding-airbyte",slug:"/understanding-airbyte/airbyte-protocol-docker",permalink:"/understanding-airbyte/airbyte-protocol-docker",draft:!1,editUrl:"https://github.com/airbytehq/airbyte/blob/master/docs/../docs/understanding-airbyte/airbyte-protocol-docker.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Airbyte Protocol",permalink:"/understanding-airbyte/airbyte-protocol"},next:{title:"Basic Normalization",permalink:"/understanding-airbyte/basic-normalization"}},d={},u=[{value:"Summary",id:"summary",level:2},{value:"Source",id:"source",level:2},{value:"Pseudocode:",id:"pseudocode",level:3},{value:"Docker:",id:"docker",level:3},{value:"Destination",id:"destination",level:2},{value:"Pseudocode:",id:"pseudocode-1",level:3},{value:"Docker:",id:"docker-1",level:3}],p={toc:u};function m(e){var t=e.components,r=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"airbyte-protocol-docker-interface"},"Airbyte Protocol Docker Interface"),(0,i.kt)("h2",{id:"summary"},"Summary"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"/understanding-airbyte/airbyte-protocol"},"Airbyte Protocol")," describes a series of structs and interfaces for building data pipelines. The Protocol article describes those interfaces in language agnostic pseudocode, this article transcribes those into docker commands. Airbyte's implementation of the protocol is all done in docker. Thus, this reference is helpful for getting a more concrete look at how the Protocol is used. It can also be used as a reference for interacting with Airbyte's implementation of the Protocol."),(0,i.kt)("h2",{id:"source"},"Source"),(0,i.kt)("h3",{id:"pseudocode"},"Pseudocode:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"spec() -> ConnectorSpecification\ncheck(Config) -> AirbyteConnectionStatus\ndiscover(Config) -> AirbyteCatalog\nread(Config, ConfiguredAirbyteCatalog, State) -> Stream<AirbyteRecordMessage | AirbyteStateMessage>\n")),(0,i.kt)("h3",{id:"docker"},"Docker:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"docker run --rm -i <source-image-name> spec\ndocker run --rm -i <source-image-name> check --config <config-file-path>\ndocker run --rm -i <source-image-name> discover --config <config-file-path>\ndocker run --rm -i <source-image-name> read --config <config-file-path> --catalog <catalog-file-path> [--state <state-file-path>] > message_stream.json\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"read")," command will emit a stream records to STDOUT."),(0,i.kt)("h2",{id:"destination"},"Destination"),(0,i.kt)("h3",{id:"pseudocode-1"},"Pseudocode:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"spec() -> ConnectorSpecification\ncheck(Config) -> AirbyteConnectionStatus\nwrite(Config, AirbyteCatalog, Stream<AirbyteMessage>(stdin)) -> Stream<AirbyteStateMessage>\n")),(0,i.kt)("h3",{id:"docker-1"},"Docker:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"docker run --rm -i <destination-image-name> spec\ndocker run --rm -i <destination-image-name> check --config <config-file-path>\ncat <&0 | docker run --rm -i <destination-image-name> write --config <config-file-path> --catalog <catalog-file-path>\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"write")," command will consume ",(0,i.kt)("inlineCode",{parentName:"p"},"AirbyteMessage"),"s from STDIN."),(0,i.kt)("p",null,"##I/O:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Connectors receive arguments on the command line via JSON files. ",(0,i.kt)("inlineCode",{parentName:"li"},"e.g. --catalog catalog.json")),(0,i.kt)("li",{parentName:"ul"},"They read ",(0,i.kt)("inlineCode",{parentName:"li"},"AirbyteMessage"),"s from STDIN. The destination ",(0,i.kt)("inlineCode",{parentName:"li"},"write")," action is the only command that consumes ",(0,i.kt)("inlineCode",{parentName:"li"},"AirbyteMessage"),"s."),(0,i.kt)("li",{parentName:"ul"},"They emit ",(0,i.kt)("inlineCode",{parentName:"li"},"AirbyteMessage"),"s on STDOUT.")))}m.isMDXComponent=!0}}]);